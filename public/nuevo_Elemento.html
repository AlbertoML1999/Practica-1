<!DOCTYPE html>
<html>

<head>
    <title>Crear equipo</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link type="text/css" rel="stylesheet" href="/css/loloo.css" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js"> </script>
    <style>
        #error-message {
            color: red;
            font-weight: bold;
            margin-bottom: 10px;
        }
    </style>

    <script>
        function validarFormulario() {
            // Obtener los valores de los campos
            var teamName = document.getElementById('teamName').value;
            var vehiculo = document.getElementById('vehiculo').value;
            var logo = document.getElementById('logo').value;
            var location = document.getElementById('location').value;
            var teamChief = document.getElementById('teamChief').value;
            var president = document.getElementById('president').value;
            var chassis = document.getElementById('chassis').value;
            var motor = document.getElementById('motor').value;
            var debut = document.getElementById('debut').value;
            var championships = document.getElementById('championships').value;
            var races = document.getElementById('races').value;
            var victories = document.getElementById('victories').value;
            var podiums = document.getElementById('podiums').value;
            var points = document.getElementById('points').value;
            var poles = document.getElementById('poles').value;

            // Referencia al elemento de mensaje de error
            var errorMessage = document.getElementById('error-message');

            // Verificar si algún campo está vacío
            if (teamName === '' || vehiculo === '' || logo === '' || location === '' || teamChief === '' || president === '' ||
                chassis === '' || motor === 'Elige una opción' || debut === '' || championships === '' || races === '' ||
                victories === '' || podiums === '' || points === '' || poles === '') {
                errorMessage.innerText = 'Por favor, complete todos los campos antes de guardar.';

                // Mostrar el mensaje durante 3 segundos (3000 milisegundos)
                setTimeout(function () {
                    errorMessage.innerText = '';
                }, 3000);

                return false; // Evita que el formulario se envíe
            } else if (championships > races) {
                errorMessage.innerText = 'Los campeonatos no pueden ser superiores a las carreras';

                setTimeout(function () {
                    errorMessage.innerText = '';
                }, 3000);

                return false; // Evita que el formulario se envíe
            } else if (races < podiums) {
                errorMessage.innerText = 'Los podios no pueden ser superiores a las carreras';

                setTimeout(function () {
                    errorMessage.innerText = '';
                }, 3000);

                return false; // Evita que el formulario se envíe
            } else if (races < victories) {
                errorMessage.innerText = 'Las victorias no pueden ser superiores a las carreras';

                setTimeout(function () {
                    errorMessage.innerText = '';
                }, 3000);

                return false; // Evita que el formulario se envíe
            } else if (1923 > debut || debut > 2023) {
                errorMessage.innerText = 'Ponga una fecha realista en debut, por favor';

                setTimeout(function () {
                    errorMessage.innerText = '';
                }, 3000);

                return false; // Evita que el formulario se envíe
            } else if (0 > podiums || 0 > victories || 0 > races || 0 > championships || 0 > points || 0 > poles) {
                errorMessage.innerText = 'No se pueden añadir números negativos';

                setTimeout(function () {
                    errorMessage.innerText = '';
                }, 3000);

                return false; // Evita que el formulario se envíe
            }

            return true; // Permite que el formulario se envíe
        }
    </script>
</head>


<body class="fondo">



    <div class="container-fluid">
        <div class="nav">
            <img
                src="https://static.vecteezy.com/system/resources/previews/013/923/537/original/red-car-vehicle-auto-detailing-logo-png.png">
            <div class="nav-logo">

                <p>
                <h1>FORMULA RACING 1.5</h1>
                </p>
                <p>Official website</p>
            </div>
            <div class="nav-menu" id="nav-menu">
                <ul>
                    <li><a href="#" class="link">Inicio</a></li>
                </ul>
            </div>
        </div>
        <div class="formulario">
            <form role="form" action="post/new" method="post" onsubmit="return validarFormulario()">
                <img
                    src="https://static.vecteezy.com/system/resources/previews/013/923/537/original/red-car-vehicle-auto-detailing-logo-png.png">

                <div class="form-group">
                    <label for="teamName">Nombre de la escudería:</label>
                    <input type="text" class="form-control" id="teamName" name="teamName"
                        placeholder="Enter nombre de la escudería">
                </div>
                <div class="form-group">
                    <label for="vehiculo">Vehículo de la escudería</label>
                    <input type="url" class="form-control" id="vehiculo" name="vehiculo"
                        placeholder="Enter url del vehículo de la escudería">
                </div>
                <div class="form-group">
                    <label for="logo">Logo de la escudería:</label>
                    <input type="url" class="form-control" id="logo" name="logo"
                        placeholder="Enter url del logo de la escudería">
                </div>
                <div class="form-group">
                    <label for="location">Localización:</label>
                    <input type="text" class="form-control" id="location" name="lugar" placeholder="Localización">
                </div>

                <div class="form-group">
                    <label for="teamChief">Jefe de equipo:</label>
                    <input type="text" class="form-control" id="teamChief" name="jefe" placeholder="Jefe de equipo">
                </div>
                <div class="form-group">
                    <label for="president">Presidente:</label>
                    <input type="text" class="form-control" id="president" name="president" placeholder="Presidente">
                </div>
                <div class="form-group">
                    <label for="chassis">Chasis:</label>
                    <input type="text" class="form-control" id="chassis" name="chasis" placeholder="Chasis">
                </div>
                <div class="form-group">
                    <label for="motor">Motor:</label>
                    <select id="motor" name="motor" class="form-control">
                        <option value="otro">Elige una opción</option>
                        <option value="mercedes">Mercedes</option>
                        <option value="honda">Honda</option>
                        <option value="ferrari">Ferrari</option>
                        <option value="renault">Renault</option>
                        <option value="otro">Otro</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="debut">Año de debut:</label>
                    <input type="number" class="form-control" id="debut" name="debut" placeholder="Debut">
                </div>
                <div class="form-group">
                    <label for="championships">Campeonatos:</label>
                    <input type="number" class="form-control" id="championships" name="campeonatos"
                        placeholder="Campeonatos">
                </div>
                <div class="form-group">
                    <label for="teamName">Estadísticas del equipo:</label>
                </div>
                <div class="row">
                    <div class="col">
                        <label for="races">Carreras:</label>
                        <input type="number" class="form-control" id="races" name="carreras" placeholder="Races">
                    </div>
                    <div class="col">
                        <label for="victories">Victorias</label>
                        <input type="number" class="form-control" id="victories" name="victorias" placeholder="Wins">
                    </div>
                    <div class="col">
                        <label for="podiums">Podios</label>
                        <input type="number" class="form-control" id="podiums" name="podios" placeholder="Podios">
                    </div>
                </div>
                <div class="row">
                    <div class="col">
                        <label for="points">Puntos</label>
                        <input type="number" class="form-control" id="points" name="puntos" placeholder="Points">
                    </div>
                    <div class="col">
                        <label for="poles">Poles:</label>
                        <input type="number" class="form-control" id="poles" name="poles" placeholder="Poles">
                    </div>
                </div>
        </div>
        <div id="error-message"></div>

        <div class="botton-nuevoElemento">
            <button onclick="return validarFormulario()" type="submit" value="Save"
                class="btn btn-success ">Guardar</button>
            <a href="/" class="noLink">
                <button type="button" class="btn btn-danger">Cancelar</button>
            </a>
        </div>

        </form>
    </div>

    </div>
</body>
